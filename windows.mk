# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

#=======================================================================================================================
# Environment Variables
#=======================================================================================================================

PREFIX = $(USERPROFILE)
!if [set LIBDPDK_PATH=$(PREFIX)\AppData\Local\dpdk]
!endif

#=======================================================================================================================
# Tools
#=======================================================================================================================

CARGO = cargo
RM = del
!if [set CC=clang]
!endif

#=======================================================================================================================
# Switches
#=======================================================================================================================

# Set build mode.
!ifndef DEBUG
BUILD = release
!else
BUILD = dev
!endif

# Set driver.
!ifndef DRIVER
DRIVER = mlx5
!endif

# Set build flags.
FLAGS = $(FLAGS) --profile $(BUILD) --features=$(DRIVER)
